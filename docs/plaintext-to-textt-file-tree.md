# File Tree with Line Counts

This file contains the complete tree structure of all Python files in the `app/` directory with their line counts.

Status markers: â³ Not Started | ðŸ”„ In Progress | âœ… Completed

For large files (>500 lines), process in chunks and update the "Last processed line" marker.

---

```
app/
  bot.py (508 lines) - Status: âœ… Completed
  config.py (1741 lines) - Status: âœ… Completed
  states.py (202 lines) - Status: âœ… Completed
  database/
    __init__.py (23 lines) - Status: âœ… Completed
    database.py (397 lines) - Status: âœ… Completed
    models.py (1868 lines) - Status: âœ… Completed
    universal_migration.py (4397 lines) - Status: âœ… Completed
    crud/
      bot.py (149 lines) - Status: âœ… Completed

      bot_configuration.py (148 lines) - Status: âœ… Completed
      bot_feature_flag.py (149 lines) - Status: âœ… Completed
      bot_plan.py (172 lines) - Status: âœ… Completed
      campaign.py (491 lines) - Status: âœ… Completed
      card_to_card_payment.py (178 lines) - Status: âœ… Completed
      cryptobot.py (156 lines) - Status: âœ… Completed
      discount_offer.py (275 lines) - Status: âœ… Completed
      faq.py (150 lines) - Status: âœ… Completed
      heleket.py (176 lines) - Status: âœ… Completed
      init_master_bot.py (56 lines) - Status: âœ… Completed
      main_menu_button.py (145 lines) - Status: âœ… Completed
      mulenpay.py (137 lines) - Status: âœ… Completed
      notification.py (66 lines) - Status: âœ… Completed
      pal24.py (167 lines) - Status: âœ… Completed
      platega.py (156 lines) - Status: âœ… Completed
      poll.py (297 lines) - Status: âœ… Completed
      privacy_policy.py (79 lines) - Status: âœ… Completed
      promo_group.py (306 lines) - Status: âœ… Completed
      promo_offer_log.py (96 lines) - Status: âœ… Completed
      promo_offer_template.py (226 lines) - Status: âœ… Completed
      promocode.py (296 lines) - Status: âœ… Completed
      public_offer.py (79 lines) - Status: âœ… Completed
      referral.py (305 lines) - Status: âœ… Completed
      rules.py (218 lines) - Status: âœ… Completed
      server_squad.py (721 lines) - Status: âœ… Completed
      squad.py (61 lines) - Status: âœ… Completed
      subscription.py (1633 lines) - Status: âœ… Completed
      subscription_conversion.py (118 lines) - Status: âœ… Completed
      subscription_event.py (72 lines) - Status: âœ… Completed
      system_setting.py (40 lines) - Status: âœ… Completed
      tenant_payment_card.py (266 lines) - Status: âœ… Completed
      ticket.py (472 lines) - Status: âœ… Completed
      transaction.py (409 lines) - Status: âœ… Completed
      user.py (1040 lines) - Status: âœ… Completed
      user_message.py (179 lines) - Status: âœ… Completed
      user_promo_group.py (311 lines) - Status: âœ… Completed
      wata.py (168 lines) - Status: âœ… Completed
      web_api_token.py (106 lines) - Status: âœ… Completed
      welcome_text.py (286 lines) - Status: âœ… Completed
      yookassa.py (276 lines) - Status: âœ… Completed
  services/
    __init__.py (3 lines) - Status: âœ… Completed
    admin_notification_service.py (1916 lines) - Status: âœ… Completed
    backup_service.py (1556 lines) - Status: âœ… Completed
    broadcast_service.py (474 lines) - Status: âœ… Completed
    campaign_service.py (193 lines) - Status: âœ… Completed
    external_admin_service.py (160 lines) - Status: âœ… Completed
    faq_service.py (273 lines) - Status: âœ… Completed
    main_menu_button_service.py (137 lines) - Status: âœ… Completed
    maintenance_service.py (542 lines) - Status: âœ… Completed
    monitoring_service.py (1964 lines) - Status: âœ… Completed
    notification_settings_service.py (257 lines) - Status: âœ… Completed
    pal24_service.py (125 lines) - Status: âœ… Completed
    payment_service.py (148 lines) - Status: âœ… Completed
    payment_verification_service.py (559 lines) - Status: âœ… Completed
    poll_service.py (246 lines) - Status: âœ… Completed
    privacy_policy_service.py (178 lines) - Status: âœ… Completed
    promo_group_assignment.py (193 lines) - Status: âœ… Completed
    promo_offer_service.py (228 lines) - Status: âœ… Completed
    promocode_service.py (253 lines) - Status: âœ… Completed
    public_offer_service.py (359 lines) - Status: âœ… Completed
    referral_service.py (375 lines) - Status: âœ… Completed
    remnawave_service.py (2611 lines) - Status: âœ… Completed
    remnawave_sync_service.py (282 lines) - Status: âœ… Completed
    reporting_service.py (599 lines) - Status: âœ… Completed
    server_status_service.py (157 lines) - Status: âœ… Completed
    subscription_auto_purchase_service.py (621 lines) - Status: âœ… Completed
    subscription_checkout_service.py (78 lines) - Status: âœ… Completed
    subscription_purchase_service.py (1232 lines) - Status: âœ… Completed
    subscription_renewal_service.py (571 lines) - Status: âœ… Completed
    subscription_service.py (1147 lines) - Status: âœ… Completed
    support_settings_service.py (221 lines) - Status: âœ… Completed
    system_settings_service.py (1462 lines) - Status: âœ… Completed
    tenant_feature_service.py (258 lines) - Status: âœ… Completed
    trial_activation_service.py (214 lines) - Status: âœ… Completed
    user_cart_service.py (112 lines) - Status: âœ… Completed
    user_service.py (1099 lines) - Status: âœ… Completed
    version_service.py (271 lines) - Status: âœ… Completed
    web_api_token_service.py (100 lines) - Status: âœ… Completed
    payment/
      __init__.py (15 lines) - Status: âœ… Completed
      common.py (265 lines) - Status: âœ… Completed
      cryptobot.py (782 lines) - Status: âœ… Completed
      pal24.py (1036 lines) - Status: âœ… Completed
      stars.py (595 lines) - Status: âœ… Completed
  webserver/
    __init__.py (11 lines) - Status: âœ… Completed
    payments.py (667 lines) - Status: âœ… Completed
    telegram.py (359 lines) - Status: âœ… Completed
    unified_app.py (233 lines) - Status: âœ… Completed
  keyboards/
    admin.py (2036 lines) - Status: âœ… Completed
    inline.py (2545 lines) - Status: âœ… Completed
    reply.py (128 lines) - Status: âœ… Completed
  external/
    cryptobot.py (187 lines) - Status: âœ… Completed
    heleket.py (174 lines) - Status: âœ… Completed
    heleket_webhook.py (111 lines) - Status: âœ… Completed
    pal24_client.py (216 lines) - Status: âœ… Completed
    pal24_webhook.py (162 lines) - Status: âœ… Completed
    remnawave_api.py (917 lines) - Status: âœ… Completed
    telegram_stars.py (116 lines) - Status: âœ… Completed
    tribute.py (161 lines) - Status: âœ… Completed
    wata_webhook.py (262 lines) - Status: âœ… Completed
    webhook_server.py (433 lines) - Status: âœ… Completed
    yookassa_webhook.py (393 lines) - Status: âœ… Completed
  webapi/
    __init__.py (5 lines) - Status: âœ… Completed
    app.py (219 lines) - Status: âœ… Completed
    dependencies.py (59 lines) - Status: âœ… Completed
    docs.py (33 lines) - Status: âœ… Completed
    middleware.py (31 lines) - Status: âœ… Completed
    server.py (81 lines) - Status: âœ… Completed
    routes/
      __init__.py (51 lines) - Status: âœ… Completed
      backups.py (159 lines) - Status: âœ… Completed
      bots.py (283 lines) - Status: âœ… Completed
      broadcasts.py (149 lines) - Status: âœ… Completed
      campaigns.py (169 lines) - Status: âœ… Completed
      config.py (185 lines) - Status: âœ… Completed
      health.py (41 lines) - Status: âœ… Completed
      logs.py (267 lines) - Status: âœ… Completed
      main_menu_buttons.py (113 lines) - Status: âœ… Completed
      media.py (158 lines) - Status: âœ… Completed
      miniapp.py (5535 lines) - Status: âœ… Completed
      pages.py (512 lines) - Status: âœ… Completed
      partners.py (199 lines) - Status: âœ… Completed
      payment_cards.py (252 lines) - Status: âœ… Completed
      polls.py (367 lines) - Status: âœ… Completed
      promo_groups.py (180 lines) - Status: âœ… Completed
      promo_offers.py (464 lines) - Status: âœ… Completed
      promocodes.py (302 lines) - Status: âœ… Completed
      remnawave.py (561 lines) - Status: âœ… Completed
      servers.py (418 lines) - Status: âœ… Completed
      stats.py (326 lines) - Status: âœ… Completed
      subscription_events.py (139 lines) - Status: âœ… Completed
      subscriptions.py (280 lines) - Status: âœ… Completed
      tickets.py (290 lines) - Status: âœ… Completed
      tokens.py (107 lines) - Status: âœ… Completed
      transactions.py (79 lines) - Status: âœ… Completed
      user_messages.py (130 lines) - Status: âœ… Completed
      users.py (323 lines) - Status: âœ… Completed
      welcome_texts.py (124 lines) - Status: âœ… Completed
    schemas/
      __init__.py (4 lines) - Status: âœ… Completed
      backups.py (55 lines) - Status: âœ… Completed
      bots.py (110 lines) - Status: âœ… Completed
      broadcasts.py (110 lines) - Status: âœ… Completed
      campaigns.py (97 lines) - Status: âœ… Completed
      config.py (59 lines) - Status: âœ… Completed
      health.py (25 lines) - Status: âœ… Completed
      logs.py (101 lines) - Status: âœ… Completed
      main_menu_buttons.py (79 lines) - Status: âœ… Completed
      media.py (16 lines) - Status: âœ… Completed
      miniapp.py (814 lines) - Status: âœ… Completed
      pages.py (153 lines) - Status: âœ… Completed
      partners.py (75 lines) - Status: âœ… Completed
      payment_cards.py (67 lines) - Status: âœ… Completed
      polls.py (191 lines) - Status: âœ… Completed
      promo_groups.py (81 lines) - Status: âœ… Completed
      promo_offers.py (187 lines) - Status: âœ… Completed
      promocodes.py (73 lines) - Status: âœ… Completed
      remnawave.py (215 lines) - Status: âœ… Completed
      servers.py (160 lines) - Status: âœ… Completed
      subscription_events.py (58 lines) - Status: âœ… Completed
      subscriptions.py (53 lines) - Status: âœ… Completed
      tickets.py (70 lines) - Status: âœ… Completed
      tokens.py (30 lines) - Status: âœ… Completed
      transactions.py (27 lines) - Status: âœ… Completed
      user_messages.py (50 lines) - Status: âœ… Completed
      users.py (88 lines) - Status: âœ… Completed
      welcome_texts.py (50 lines) - Status: âœ… Completed
    background/
      __init__.py (1 lines) - Status: âœ… Completed
      backup_tasks.py (73 lines) - Status: âœ… Completed
  middlewares/
    __init__.py (0 lines) - Status: âœ… Completed
    auth.py (231 lines) - Status: âœ… Completed
    bot_context.py (63 lines) - Status: âœ… Completed
    channel_checker.py (366 lines) - Status: âœ… Completed
    display_name_restriction.py (165 lines) - Status: âœ… Completed
    global_error.py (148 lines) - Status: âœ… Completed
    logging.py (42 lines) - Status: âœ… Completed
    maintenance.py (45 lines) - Status: âœ… Completed
    subscription_checker.py (53 lines) - Status: âœ… Completed
    throttling.py (93 lines) - Status: âœ… Completed
  utils/
    __init__.py (13 lines) - Status: âœ… Completed
    cache.py (284 lines) - Status: âœ… Completed
    check_reg_process.py (38 lines) - Status: âœ… Completed
    currency_converter.py (121 lines) - Status: âœ… Completed
    decorators.py (170 lines) - Status: âœ… Completed
    formatters.py (233 lines) - Status: âœ… Completed
    message_patch.py (165 lines) - Status: âœ… Completed
    miniapp_buttons.py (35 lines) - Status: âœ… Completed
    pagination.py (82 lines) - Status: âœ… Completed
    payment_utils.py (244 lines) - Status: âœ… Completed
    photo_message.py (137 lines) - Status: âœ… Completed
    price_display.py (194 lines) - Status: âœ… Completed
    pricing_utils.py (326 lines) - Status: âœ… Completed
    promo_offer.py (256 lines) - Status: âœ… Completed
    security.py (28 lines) - Status: âœ… Completed
    startup_timeline.py (184 lines) - Status: âœ… Completed
    subscription_utils.py (231 lines) - Status: âœ… Completed
    telegram_webapp.py (91 lines) - Status: âœ… Completed
    timezone.py (82 lines) - Status: âœ… Completed
    user_utils.py (356 lines) - Status: âœ… Completed
    validators.py (316 lines) - Status: âœ… Completed
  localization/
    loader.py (336 lines) - Status: âœ… Completed
    texts.py (245 lines) - Status: âœ… Completed
  handlers/
    __init__.py (3 lines) - Status: âœ… Completed
    common.py (131 lines) - Status: âœ… Completed
    menu.py (1171 lines) - Status: âœ… Completed
    polls.py (255 lines) - Status: âœ… Completed
    promocode.py (131 lines) - Status: âœ… Completed
    referral.py (387 lines) - Status: âœ… Completed
    server_status.py (212 lines) - Status: âœ… Completed
    simple_subscription.py (2692 lines) - Status: âœ… Completed
    stars_payments.py (221 lines) - Status: âœ… Completed
    start.py (1903 lines) - Status: âœ… Completed
    support.py (36 lines) - Status: âœ… Completed
    tickets.py (1061 lines) - Status: âœ… Completed
    webhooks.py (93 lines) - Status: âœ… Completed
    balance/
      __init__.py (3 lines) - Status: âœ… Completed
      card_to_card.py (572 lines) - Status: âœ… Completed
      cryptobot.py (292 lines) - Status: âœ… Completed
      heleket.py (404 lines) - Status: âœ… Completed
      main.py (1031 lines) - Status: âœ… Completed
      mulenpay.py (377 lines) - Status: âœ… Completed
      pal24.py (716 lines) - Status: âœ… Completed
      platega.py (448 lines) - Status: âœ… Completed
      stars.py (136 lines) - Status: âœ… Completed
      tribute.py (30 lines) - Status: âœ… Completed
      wata.py (316 lines) - Status: âœ… Completed
      yookassa.py (628 lines) - Status: âœ… Completed
    subscription/
      __init__.py (211 lines) - Status: âœ… Completed
      autopay.py (286 lines) - Status: âœ… Completed
      common.py (500 lines) - Status: âœ… Completed
      countries.py (1023 lines) - Status: âœ… Completed
      devices.py (1384 lines) - Status: âœ… Completed
      happ.py (158 lines) - Status: âœ… Completed
      links.py (354 lines) - Status: âœ… Completed
      notifications.py (131 lines) - Status: âœ… Completed
      pricing.py (544 lines) - Status: âœ… Completed
      promo.py (459 lines) - Status: âœ… Completed
      purchase.py (3454 lines) - Status: âœ… Completed
      summary.py (62 lines) - Status: âœ… Completed
      traffic.py (860 lines) - Status: âœ… Completed
    admin/
      __init__.py (1 lines) - Status: âœ… Completed
      backup.py (722 lines) - Status: âœ… Completed
      bot_configuration.py (2852 lines) - Status: âœ… Completed
      campaigns.py (1799 lines) - Status: âœ… Completed
      faq.py (1065 lines) - Status: âœ… Completed
      main.py (468 lines) - Status: âœ… Completed
      maintenance.py (468 lines) - Status: âœ… Completed
      messages.py (1403 lines) - Status: âœ… Completed
      monitoring.py (1213 lines) - Status: âœ… Completed
      payments.py (613 lines) - Status: âœ… Completed
      polls.py (1254 lines) - Status: âœ… Completed
      pricing.py (1443 lines) - Status: âœ… Completed
      privacy_policy.py (512 lines) - Status: âœ… Completed
      promo_groups.py (1474 lines) - Status: âœ… Completed
      promo_offers.py (2412 lines) - Status: âœ… Completed
      promocodes.py (1237 lines) - Status: âœ… Completed
      public_offer.py (530 lines) - Status: âœ… Completed
      referrals.py (202 lines) - Status: âœ… Completed
      remnawave.py (3917 lines) - Status: âœ… Completed
      reports.py (120 lines) - Status: âœ… Completed
      rules.py (384 lines) - Status: âœ… Completed
      servers.py (1382 lines) - Status: âœ… Completed
      statistics.py (368 lines) - Status: âœ… Completed
      subscriptions.py (442 lines) - Status: âœ… Completed
      support_settings.py (468 lines) - Status: âœ… Completed
      system_logs.py (169 lines) - Status: âœ… Completed
      tenant_bots.py (1247 lines) - Status: âœ… Completed
      tickets.py (1132 lines) - Status: âœ… Completed
      trials.py (86 lines) - Status: âœ… Completed
      updates.py (303 lines) - Status: âœ… Completed
      user_messages.py (661 lines) - Status: âœ… Completed
      users.py (5141 lines) - Status: âœ… Completed
      welcome_text.py (534 lines) - Status: âœ… Completed
```
